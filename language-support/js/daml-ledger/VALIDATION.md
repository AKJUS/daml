# JavaScript bindings client-side validation

This document outlines the scope of client-side validation in the JS bindings.

## Scope

The chosen serialization format, Protocol Buffers, provides no way to enforce
whether some part of a message is required or optional, delegating this check
to the application layer.

As the glue that binds together the code generated by Protocol Buffers and the
client-side applications, the bindings are the perfect place to enforce this
kind of semantics on our APIs.

The bindings can serve as the layer to:
- ensure only well-formed message are sent to the server
- report error information which:
  - covers all detected discrepancies at once
  - is propagated via callbacks and streams (rather than exceptions)

By "well-formed" we mean a message that contains:
- if it represents a plain object:
  - all the required fields, each with the correct type
  - zero or more optional fields, each with the correct type
- if it represents a union:
  - exactly one field, with the correct type
- in any case:
  - no unknown (i.e. extra) field (to easily catch crass mistakes)

Any other kind of check is delegated to the server as the ultimate judge of the
semantics of messages.
